import{B as s,M as a,T as h,Ua as i,cb as m,y as o}from"./chunk-OKI62E2N.js";var n=class r{STORAGE_KEY="staskk_theme";isBrowser;currentTheme=a(this.getStoredTheme());theme=i(()=>this.currentTheme());isDark=i(()=>this.currentTheme()==="dark");constructor(e){this.isBrowser=m(e),this.applyTheme(this.currentTheme())}setTheme(e){this.currentTheme.set(e),this.saveTheme(e),this.applyTheme(e)}toggleTheme(){let e=this.currentTheme()==="light"?"dark":"light";this.setTheme(e)}applyTheme(e){if(this.isBrowser)try{document.documentElement.setAttribute("data-theme",e)}catch(t){console.warn("Failed to apply theme:",t)}}getStoredTheme(){try{if(!this.isBrowser||typeof localStorage>"u")return this.getSystemTheme();let e=localStorage.getItem(this.STORAGE_KEY);if(e&&this.isValidTheme(e))return e}catch(e){console.warn("Failed to load theme from storage:",e)}return this.getSystemTheme()}saveTheme(e){try{this.isBrowser&&typeof localStorage<"u"&&localStorage.setItem(this.STORAGE_KEY,e)}catch(t){console.warn("Failed to save theme to storage:",t)}}getSystemTheme(){if(!this.isBrowser)return"light";try{if(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches)return"dark"}catch(e){console.warn("Failed to detect system theme:",e)}return"light"}isValidTheme(e){return e==="light"||e==="dark"}initialize(){let e=this.getStoredTheme();e!==this.currentTheme()&&(this.currentTheme.set(e),this.applyTheme(e))}static \u0275fac=function(t){return new(t||r)(s(h))};static \u0275prov=o({token:r,factory:r.\u0275fac,providedIn:"root"})};export{n as a};
